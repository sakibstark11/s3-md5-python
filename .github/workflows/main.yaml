on: [push]

jobs:
  run-tests:
    name: Run tests
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      
      - name: Run tests
        id: run-tests
        uses: ./
        with:
          args: "python3 -m pytest ."
  
  run-type-checks:
    name: Run type checks
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      
      - name: Run type checks
        id: run-type-checks
        uses: ./
        with:
          args: "python3 -m mypy --exclude test ."
